<!DOCTYPE html><html lang="en" dir="ltr" data-theme="dark" data-has-toc data-has-sidebar class="astro-bguv2lll"> <head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Observability with OpenTelemetry | Gemini CLI</title><link rel="canonical" href="https://geminicli.com/docs/cli/telemetry/"/><link rel="sitemap" href="/sitemap-index.xml"/><link href="https://fonts.gstatic.com" rel="preconnect" crossorigin="true"/><link href="https://fonts.googleapis.com/css2?family=Google+Sans:wght@400;500;700&display=block" rel="stylesheet"/><link href="https://fonts.googleapis.com/css2?family=Google+Sans+Text:wght@400;500&display=block" rel="stylesheet"/><link href="https://fonts.googleapis.com/css2?family=Google+Sans+Mono:wght@400;500&display=block" rel="stylesheet"/><link href="https://fonts.googleapis.com/css2?family=Google+Symbols&display=block" rel="stylesheet"/><link rel="icon" href="/favicon.ico" sizes="32x32"/><script async src="https://www.googletagmanager.com/gtag/js?id=G-66QE907DJT"></script><script>window.dataLayer = window.dataLayer || [];
  function gtag() {
    dataLayer.push(arguments);
  }
  gtag("js", new Date());
  gtag("config", "G-66QE907DJT");</script><link rel="shortcut icon" href="/icon.png" type="image/png"/><meta name="generator" content="Astro v5.14.8"/><meta name="generator" content="Starlight v0.36.1"/><meta property="og:title" content="Observability with OpenTelemetry"/><meta property="og:type" content="article"/><meta property="og:url" content="https://geminicli.com/docs/cli/telemetry/"/><meta property="og:locale" content="en"/><meta property="og:description"/><meta property="og:site_name" content="Gemini CLI"/><meta name="twitter:card" content="summary_large_image"/><meta property="og:image" content="https://geminicli.com/assets/social-poster.png"/><meta name="twitter:image" content="https://geminicli.com/assets/social-poster.png"/><script>
	window.StarlightThemeProvider = (() => {
		const storedTheme =
			typeof localStorage !== 'undefined' && localStorage.getItem('starlight-theme');
		const theme =
			storedTheme ||
			(window.matchMedia('(prefers-color-scheme: light)').matches ? 'light' : 'dark');
		document.documentElement.dataset.theme = theme === 'light' ? 'light' : 'dark';
		return {
			updatePickers(theme = storedTheme || 'auto') {
				document.querySelectorAll('starlight-theme-select').forEach((picker) => {
					const select = picker.querySelector('select');
					if (select) select.value = theme;
					/** @type {HTMLTemplateElement | null} */
					const tmpl = document.querySelector(`#theme-icons`);
					const newIcon = tmpl && tmpl.content.querySelector('.' + theme);
					if (newIcon) {
						const oldIcon = picker.querySelector('svg.label-icon');
						if (oldIcon) {
							oldIcon.replaceChildren(...newIcon.cloneNode(true).childNodes);
						}
					}
				});
			},
		};
	})();
</script><template id="theme-icons"><svg aria-hidden="true" class="light astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M5 12a1 1 0 0 0-1-1H3a1 1 0 0 0 0 2h1a1 1 0 0 0 1-1Zm.64 5-.71.71a1 1 0 0 0 0 1.41 1 1 0 0 0 1.41 0l.71-.71A1 1 0 0 0 5.64 17ZM12 5a1 1 0 0 0 1-1V3a1 1 0 0 0-2 0v1a1 1 0 0 0 1 1Zm5.66 2.34a1 1 0 0 0 .7-.29l.71-.71a1 1 0 1 0-1.41-1.41l-.66.71a1 1 0 0 0 0 1.41 1 1 0 0 0 .66.29Zm-12-.29a1 1 0 0 0 1.41 0 1 1 0 0 0 0-1.41l-.71-.71a1.004 1.004 0 1 0-1.43 1.41l.73.71ZM21 11h-1a1 1 0 0 0 0 2h1a1 1 0 0 0 0-2Zm-2.64 6A1 1 0 0 0 17 18.36l.71.71a1 1 0 0 0 1.41 0 1 1 0 0 0 0-1.41l-.76-.66ZM12 6.5a5.5 5.5 0 1 0 5.5 5.5A5.51 5.51 0 0 0 12 6.5Zm0 9a3.5 3.5 0 1 1 0-7 3.5 3.5 0 0 1 0 7Zm0 3.5a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1a1 1 0 0 0-1-1Z"/></svg><svg aria-hidden="true" class="dark astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21.64 13a1 1 0 0 0-1.05-.14 8.049 8.049 0 0 1-3.37.73 8.15 8.15 0 0 1-8.14-8.1 8.59 8.59 0 0 1 .25-2A1 1 0 0 0 8 2.36a10.14 10.14 0 1 0 14 11.69 1 1 0 0 0-.36-1.05Zm-9.5 6.69A8.14 8.14 0 0 1 7.08 5.22v.27a10.15 10.15 0 0 0 10.14 10.14 9.784 9.784 0 0 0 2.1-.22 8.11 8.11 0 0 1-7.18 4.32v-.04Z"/></svg><svg aria-hidden="true" class="auto astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21 14h-1V7a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v7H3a1 1 0 0 0-1 1v2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-2a1 1 0 0 0-1-1ZM6 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7H6V7Zm14 10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1h16v1Z"/></svg></template><link rel="stylesheet" href="/_astro/print.DNXP8c50.css" media="print"><link rel="stylesheet" href="/_astro/debugz.BJBL9UVz.css"><script type="module" src="/_astro/page.CqwDW6Ek.js"></script></head> <body class="astro-bguv2lll"> <a href="#_top" class="astro-7q3lir66">Skip to content</a>  <div class="announcement-banner astro-yriad4ts"> <b class="astro-yriad4ts">Gemini 3 Flash is now available</b>. Speed no longer has to mean compromising
  quality. <a href="https://developers.googleblog.com/gemini-3-flash-is-now-available-in-gemini-cli/" class="astro-yriad4ts">Read the announcement</a> </div> <div class="page sl-flex astro-yriad4ts"> <header class="header astro-yriad4ts"><div id="page-header" class="header astro-3ef6ksr2"> <div class="title-wrapper sl-flex items-center astro-3ef6ksr2"> <div class="links-and-menu astro-3ef6ksr2" role="button" aria-label="Open navigation menu"> <a href="/" class="site-title sl-flex astro-m46x6ez3">  <img class="astro-m46x6ez3" alt="Gemini CLI Icon" src="/_astro/icon.Bo4M5sF3.png" width="1645" height="1645">  <span class="astro-m46x6ez3" translate="no"> Gemini CLI </span> </a>  <div class="nav-items astro-jvd4jwbq"> <a href="/" class="mobile-only astro-jvd4jwbq">Home</a> <div class="extensions-container astro-jvd4jwbq"> <a href="/extensions/" class="dark:text-white text-black no-underline extensions-link astro-jvd4jwbq">Extensions</a> <div class="extensions-menu astro-jvd4jwbq"> <a href="/extensions/" class="mobile-hide astro-jvd4jwbq" class="dark:text-white text-black no-underline extensions-link">Gallery</a> <a href="/extensions/about" class="dark:text-white text-black no-underline astro-jvd4jwbq">About Extensions</a> </div> </div> <a href="/docs/" class="dark:text-white text-black no-underline is-active astro-jvd4jwbq">Docs</a> <a href="/docs/changelogs/" class="dark:text-white text-black no-underline astro-jvd4jwbq">Changelog</a> </div>  </div> </div> <div class="sl-flex justify-end print:hidden search astro-3ef6ksr2"> <site-search class="astro-3ef6ksr2 astro-v37mnknz" data-translations="{&#34;placeholder&#34;:&#34;Search&#34;}"> <button data-open-modal disabled aria-label="Search" aria-keyshortcuts="Control+K" class="astro-v37mnknz"> <svg aria-hidden="true" class="astro-v37mnknz astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21.71 20.29 18 16.61A9 9 0 1 0 16.61 18l3.68 3.68a.999.999 0 0 0 1.42 0 1 1 0 0 0 0-1.39ZM11 18a7 7 0 1 1 0-14 7 7 0 0 1 0 14Z"/></svg> <span class="sl-hidden md:sl-block astro-v37mnknz" aria-hidden="true">Search</span> <kbd class="sl-hidden md:sl-flex astro-v37mnknz" style="display: none;"> <kbd class="astro-v37mnknz">Ctrl</kbd><kbd class="astro-v37mnknz">K</kbd> </kbd> </button> <dialog style="padding:0" aria-label="Search" class="astro-v37mnknz"> <div class="dialog-frame sl-flex astro-v37mnknz">  <button data-close-modal class="sl-flex md:sl-hidden astro-v37mnknz"> Cancel </button> <div class="search-container astro-v37mnknz"> <div id="starlight__search" class="astro-v37mnknz"></div> </div> </div> </dialog> </site-search>  <script>
	(() => {
		const openBtn = document.querySelector('button[data-open-modal]');
		const shortcut = openBtn?.querySelector('kbd');
		if (!openBtn || !(shortcut instanceof HTMLElement)) return;
		const platformKey = shortcut.querySelector('kbd');
		if (platformKey && /(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)) {
			platformKey.textContent = '‚åò';
			openBtn.setAttribute('aria-keyshortcuts', 'Meta+K');
		}
		shortcut.style.display = '';
	})();
</script> <script type="module" src="/_astro/Search.astro_astro_type_script_index_0_lang.cjYDvRdi.js"></script>   </div> <div class="sl-hidden md:sl-flex print:hidden right-group astro-3ef6ksr2"> <div class="sl-flex social-icons astro-3ef6ksr2"> <a href="https://github.com/google-gemini/gemini-cli" rel="me" class="sl-flex astro-wy4te6ga"><span class="sr-only astro-wy4te6ga">GitHub</span><svg aria-hidden="true" class="astro-wy4te6ga astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M12 .3a12 12 0 0 0-3.8 23.38c.6.12.83-.26.83-.57L9 21.07c-3.34.72-4.04-1.61-4.04-1.61-.55-1.39-1.34-1.76-1.34-1.76-1.08-.74.09-.73.09-.73 1.2.09 1.83 1.24 1.83 1.24 1.08 1.83 2.81 1.3 3.5 1 .1-.78.42-1.31.76-1.61-2.67-.3-5.47-1.33-5.47-5.93 0-1.31.47-2.38 1.24-3.22-.14-.3-.54-1.52.1-3.18 0 0 1-.32 3.3 1.23a11.5 11.5 0 0 1 6 0c2.28-1.55 3.29-1.23 3.29-1.23.64 1.66.24 2.88.12 3.18a4.65 4.65 0 0 1 1.23 3.22c0 4.61-2.8 5.63-5.48 5.92.42.36.81 1.1.81 2.22l-.01 3.29c0 .31.2.69.82.57A12 12 0 0 0 12 .3Z"/></svg></a> </div> <starlight-theme-select>  <label style="--sl-select-width: 6.25em" class="astro-4yphtoen"> <span class="sr-only astro-4yphtoen">Select theme</span> <svg aria-hidden="true" class="icon label-icon astro-4yphtoen astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21 14h-1V7a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v7H3a1 1 0 0 0-1 1v2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-2a1 1 0 0 0-1-1ZM6 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7H6V7Zm14 10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1h16v1Z"/></svg> <select autocomplete="off" class="astro-4yphtoen"> <option value="dark" class="astro-4yphtoen">Dark</option><option value="light" class="astro-4yphtoen">Light</option><option value="auto" selected class="astro-4yphtoen">Auto</option> </select> <svg aria-hidden="true" class="icon caret astro-4yphtoen astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M17 9.17a1 1 0 0 0-1.41 0L12 12.71 8.46 9.17a1 1 0 1 0-1.41 1.42l4.24 4.24a1.002 1.002 0 0 0 1.42 0L17 10.59a1.002 1.002 0 0 0 0-1.42Z"/></svg> </label>  </starlight-theme-select>  <script>
	StarlightThemeProvider.updatePickers();
</script> <script type="module">const r="starlight-theme",o=e=>e==="auto"||e==="dark"||e==="light"?e:"auto",c=()=>o(typeof localStorage<"u"&&localStorage.getItem(r));function n(e){typeof localStorage<"u"&&localStorage.setItem(r,e==="light"||e==="dark"?e:"")}const l=()=>matchMedia("(prefers-color-scheme: light)").matches?"light":"dark";function t(e){StarlightThemeProvider.updatePickers(e),document.documentElement.dataset.theme=e==="auto"?l():e,n(e)}matchMedia("(prefers-color-scheme: light)").addEventListener("change",()=>{c()==="auto"&&t("auto")});class s extends HTMLElement{constructor(){super(),t(c()),this.querySelector("select")?.addEventListener("change",a=>{a.currentTarget instanceof HTMLSelectElement&&t(o(a.currentTarget.value))})}}customElements.define("starlight-theme-select",s);</script> <script type="module">class s extends HTMLElement{constructor(){super();const e=this.querySelector("select");e&&(e.addEventListener("change",t=>{t.currentTarget instanceof HTMLSelectElement&&(window.location.pathname=t.currentTarget.value)}),window.addEventListener("pageshow",t=>{if(!t.persisted)return;const n=e.querySelector("option[selected]")?.index;n!==e.selectedIndex&&(e.selectedIndex=n??0)}))}}customElements.define("starlight-lang-select",s);</script> </div> </div> <script type="module">const e=document.querySelector("[role=button].links-and-menu");e?.addEventListener("click",t=>{const{matches:s}=window.matchMedia("(max-width: 640px)");if(!s)return;if(e.querySelector(".nav-items")?.contains(t.target)){e.classList.remove("is-active");return}t.preventDefault(),e.classList.toggle("is-active")});</script>  </header> <nav class="sidebar print:hidden astro-yriad4ts" aria-label="Main"> <starlight-menu-button class="print:hidden astro-jif73yzw"> <button aria-expanded="false" aria-label="Menu" aria-controls="starlight__sidebar" class="sl-flex md:sl-hidden astro-jif73yzw"> <svg aria-hidden="true" class="open-menu astro-jif73yzw astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M3 8h18a1 1 0 1 0 0-2H3a1 1 0 0 0 0 2Zm18 8H3a1 1 0 0 0 0 2h18a1 1 0 0 0 0-2Zm0-5H3a1 1 0 0 0 0 2h18a1 1 0 0 0 0-2Z"/></svg> <svg aria-hidden="true" class="close-menu astro-jif73yzw astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="m13.41 12 6.3-6.29a1.004 1.004 0 1 0-1.42-1.42L12 10.59l-6.29-6.3a1.004 1.004 0 0 0-1.42 1.42l6.3 6.29-6.3 6.29a1 1 0 0 0 0 1.42.998.998 0 0 0 1.42 0l6.29-6.3 6.29 6.3a.999.999 0 0 0 1.42 0 1 1 0 0 0 0-1.42L13.41 12Z"/></svg> </button> </starlight-menu-button> <script type="module">class s extends HTMLElement{constructor(){super(),this.btn=this.querySelector("button"),this.btn.addEventListener("click",()=>this.toggleExpanded());const t=this.closest("nav");t&&t.addEventListener("keyup",e=>this.closeOnEscape(e))}setExpanded(t){this.setAttribute("aria-expanded",String(t)),document.body.toggleAttribute("data-mobile-menu-expanded",t)}toggleExpanded(){this.setExpanded(this.getAttribute("aria-expanded")!=="true")}closeOnEscape(t){t.code==="Escape"&&(this.setExpanded(!1),this.btn.focus())}}customElements.define("starlight-menu-button",s);</script>   <div id="starlight__sidebar" class="sidebar-pane astro-yriad4ts"> <div class="sidebar-content sl-flex astro-yriad4ts"> <sl-sidebar-state-persist data-hash="0rmj47v" class="astro-kku4brbg"> <script aria-hidden="true">
		(() => {
			try {
				if (!matchMedia('(min-width: 50em)').matches) return;
				/** @type {HTMLElement | null} */
				const target = document.querySelector('sl-sidebar-state-persist');
				const state = JSON.parse(sessionStorage.getItem('sl-sidebar-state') || '0');
				if (!target || !state || target.dataset.hash !== state.hash) return;
				window._starlightScrollRestore = state.scroll;
				customElements.define(
					'sl-sidebar-restore',
					class SidebarRestore extends HTMLElement {
						connectedCallback() {
							try {
								const idx = parseInt(this.dataset.index || '');
								const details = this.closest('details');
								if (details && typeof state.open[idx] === 'boolean') details.open = state.open[idx];
							} catch {}
						}
					}
				);
			} catch {}
		})();
	</script>  <ul class="top-level astro-3ii7xxms"> <li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <span class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">Overview</span>  </span> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </summary> <sl-sidebar-restore data-index="0"></sl-sidebar-restore> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/docs/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Introduction</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/docs/architecture/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Architecture overview</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/docs/contributing/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Contribution guide</span>  </a> </li> </ul>  </details> </li><li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <span class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">Get started</span>  </span> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </summary> <sl-sidebar-restore data-index="1"></sl-sidebar-restore> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/docs/get-started/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Gemini CLI quickstart</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/docs/get-started/gemini-3/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Gemini 3 on Gemini CLI</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/docs/get-started/authentication/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Authentication</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/docs/get-started/configuration/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Configuration</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/docs/get-started/installation/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Installation</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/docs/get-started/examples/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Examples</span>  </a> </li> </ul>  </details> </li><li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <span class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">CLI</span>  </span> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </summary> <sl-sidebar-restore data-index="2"></sl-sidebar-restore> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/docs/cli/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Introduction</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/docs/cli/commands/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Commands</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/docs/cli/checkpointing/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Checkpointing</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/docs/cli/custom-commands/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Custom commands</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/docs/cli/enterprise/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Enterprise</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/docs/cli/headless/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Headless mode</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/docs/cli/keyboard-shortcuts/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Keyboard shortcuts</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/docs/cli/model/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Model selection</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/docs/cli/sandbox/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Sandbox</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/docs/cli/session-management/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Session Management</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/docs/cli/settings/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Settings</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/docs/cli/telemetry/" aria-current="page" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Telemetry</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/docs/cli/themes/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Themes</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/docs/cli/token-caching/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Token caching</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/docs/cli/trusted-folders/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Trusted Folders</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/docs/cli/tutorials/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Tutorials</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/docs/cli/uninstall/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Uninstall</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/docs/cli/system-prompt/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">System prompt override</span>  </a> </li> </ul>  </details> </li><li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <span class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">Core</span>  </span> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </summary> <sl-sidebar-restore data-index="3"></sl-sidebar-restore> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/docs/core/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Introduction</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/docs/core/tools-api/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Tools API</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/docs/core/memport/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Memory Import Processor</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/docs/core/policy-engine/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Policy Engine</span>  </a> </li> </ul>  </details> </li><li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <span class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">Tools</span>  </span> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </summary> <sl-sidebar-restore data-index="4"></sl-sidebar-restore> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/docs/tools/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Introduction</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/docs/tools/file-system/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">File system</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/docs/tools/shell/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Shell</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/docs/tools/web-fetch/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Web fetch</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/docs/tools/web-search/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Web search</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/docs/tools/memory/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Memory</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/docs/tools/todos/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Todos</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/docs/tools/mcp-server/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">MCP servers</span>  </a> </li> </ul>  </details> </li><li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <span class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">Extensions</span>  </span> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </summary> <sl-sidebar-restore data-index="5"></sl-sidebar-restore> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/docs/extensions/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Introduction</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/docs/extensions/getting-started-extensions/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Get started with extensions</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/docs/extensions/extension-releasing/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Extension releasing</span>  </a> </li> </ul>  </details> </li><li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <span class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">Hooks</span>  </span> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </summary> <sl-sidebar-restore data-index="6"></sl-sidebar-restore> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/docs/hooks/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Introduction</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/docs/hooks/writing-hooks/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Writing hooks</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/docs/hooks/reference/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Hooks reference</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/docs/hooks/best-practices/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Best practices</span>  </a> </li> </ul>  </details> </li><li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <span class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">IDE integration</span>  </span> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </summary> <sl-sidebar-restore data-index="7"></sl-sidebar-restore> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/docs/ide-integration/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Introduction</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/docs/ide-integration/ide-companion-spec/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">IDE companion spec</span>  </a> </li> </ul>  </details> </li><li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <span class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">Development</span>  </span> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </summary> <sl-sidebar-restore data-index="8"></sl-sidebar-restore> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/docs/npm/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">NPM</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/docs/releases/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Releases</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/docs/integration-tests/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Integration tests</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/docs/issue-and-pr-automation/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Issue and PR automation</span>  </a> </li> </ul>  </details> </li><li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <span class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">Releases</span>  </span> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </summary> <sl-sidebar-restore data-index="9"></sl-sidebar-restore> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/docs/changelogs/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Release notes</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/docs/changelogs/latest/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Latest release</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/docs/changelogs/preview/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Preview release</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/docs/changelogs/releases/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Changelog</span>  </a> </li> </ul>  </details> </li><li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <span class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">Support</span>  </span> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </summary> <sl-sidebar-restore data-index="10"></sl-sidebar-restore> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/docs/faq/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">FAQ</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/docs/troubleshooting/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Troubleshooting</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/docs/quota-and-pricing/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Quota and pricing</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/docs/tos-privacy/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Terms of service</span>  </a> </li> </ul>  </details> </li> </ul>   <script aria-hidden="true">
		(() => {
			const scroller = document.getElementById('starlight__sidebar');
			if (!window._starlightScrollRestore || !scroller) return;
			scroller.scrollTop = window._starlightScrollRestore;
			delete window._starlightScrollRestore;
		})();
	</script> </sl-sidebar-state-persist>  <div class="md:sl-hidden"> <div class="mobile-preferences sl-flex astro-wu23bvmt"> <div class="social-icons astro-wu23bvmt"> <a href="https://github.com/google-gemini/gemini-cli" rel="me" class="sl-flex astro-wy4te6ga"><span class="sr-only astro-wy4te6ga">GitHub</span><svg aria-hidden="true" class="astro-wy4te6ga astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M12 .3a12 12 0 0 0-3.8 23.38c.6.12.83-.26.83-.57L9 21.07c-3.34.72-4.04-1.61-4.04-1.61-.55-1.39-1.34-1.76-1.34-1.76-1.08-.74.09-.73.09-.73 1.2.09 1.83 1.24 1.83 1.24 1.08 1.83 2.81 1.3 3.5 1 .1-.78.42-1.31.76-1.61-2.67-.3-5.47-1.33-5.47-5.93 0-1.31.47-2.38 1.24-3.22-.14-.3-.54-1.52.1-3.18 0 0 1-.32 3.3 1.23a11.5 11.5 0 0 1 6 0c2.28-1.55 3.29-1.23 3.29-1.23.64 1.66.24 2.88.12 3.18a4.65 4.65 0 0 1 1.23 3.22c0 4.61-2.8 5.63-5.48 5.92.42.36.81 1.1.81 2.22l-.01 3.29c0 .31.2.69.82.57A12 12 0 0 0 12 .3Z"/></svg></a> </div> <starlight-theme-select>  <label style="--sl-select-width: 6.25em" class="astro-4yphtoen"> <span class="sr-only astro-4yphtoen">Select theme</span> <svg aria-hidden="true" class="icon label-icon astro-4yphtoen astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21 14h-1V7a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v7H3a1 1 0 0 0-1 1v2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-2a1 1 0 0 0-1-1ZM6 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7H6V7Zm14 10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1h16v1Z"/></svg> <select autocomplete="off" class="astro-4yphtoen"> <option value="dark" class="astro-4yphtoen">Dark</option><option value="light" class="astro-4yphtoen">Light</option><option value="auto" selected class="astro-4yphtoen">Auto</option> </select> <svg aria-hidden="true" class="icon caret astro-4yphtoen astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M17 9.17a1 1 0 0 0-1.41 0L12 12.71 8.46 9.17a1 1 0 1 0-1.41 1.42l4.24 4.24a1.002 1.002 0 0 0 1.42 0L17 10.59a1.002 1.002 0 0 0 0-1.42Z"/></svg> </label>  </starlight-theme-select>  <script>
	StarlightThemeProvider.updatePickers();
</script>   </div>  </div> </div> </div> </nav> <!-- Main grows to push footer down --> <div class="main-frame astro-yriad4ts">   <script type="module">const a=document.getElementById("starlight__sidebar"),n=a?.querySelector("sl-sidebar-state-persist"),o="sl-sidebar-state",i=()=>{let t=[];const e=n?.dataset.hash||"";try{const s=sessionStorage.getItem(o),r=JSON.parse(s||"{}");Array.isArray(r.open)&&r.hash===e&&(t=r.open)}catch{}return{hash:e,open:t,scroll:a?.scrollTop||0}},c=t=>{try{sessionStorage.setItem(o,JSON.stringify(t))}catch{}},d=()=>c(i()),l=(t,e)=>{const s=i();s.open[e]=t,c(s)};n?.addEventListener("click",t=>{if(!(t.target instanceof Element))return;const e=t.target.closest("summary")?.closest("details");if(!e)return;const s=e.querySelector("sl-sidebar-restore"),r=parseInt(s?.dataset.index||"");isNaN(r)||l(!e.open,r)});addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&d()});addEventListener("pageHide",d);</script> <div class="lg:sl-flex astro-67yu43on"> <aside class="right-sidebar-container print:hidden astro-67yu43on"> <div class="right-sidebar astro-67yu43on"> <div class="lg:sl-hidden astro-pb3aqygn"><mobile-starlight-toc data-min-h="2" data-max-h="3" class="astro-doynk5tl"><nav aria-labelledby="starlight__on-this-page--mobile" class="astro-doynk5tl"><details id="starlight__mobile-toc" class="astro-doynk5tl"><summary id="starlight__on-this-page--mobile" class="sl-flex astro-doynk5tl"><span class="toggle sl-flex astro-doynk5tl">On this page<svg aria-hidden="true" class="caret astro-doynk5tl astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg></span><span class="display-current astro-doynk5tl"></span></summary><div class="dropdown astro-doynk5tl"><ul class="isMobile astro-g2bywc46" style="--depth: 0;"> <li class="astro-g2bywc46" style="--depth: 0;"> <a href="#_top" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Introduction</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#key-benefits" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Key benefits</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#opentelemetry-integration" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">OpenTelemetry integration</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#configuration" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Configuration</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#google-cloud-telemetry" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Google Cloud telemetry</span> </a> <ul class="isMobile astro-g2bywc46" style="--depth: 1;"> <li class="astro-g2bywc46" style="--depth: 1;"> <a href="#prerequisites" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">Prerequisites</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#authenticating-with-cli-credentials" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">Authenticating with CLI Credentials</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#direct-export-recommended" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">Direct export (recommended)</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#collector-based-export-advanced" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">Collector-based export (advanced)</span> </a>  </li> </ul>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#local-telemetry" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Local telemetry</span> </a> <ul class="isMobile astro-g2bywc46" style="--depth: 1;"> <li class="astro-g2bywc46" style="--depth: 1;"> <a href="#file-based-output-recommended" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">File-based output (recommended)</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#collector-based-export-advanced-1" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">Collector-based export (advanced)</span> </a>  </li> </ul>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#logs-and-metrics" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Logs and metrics</span> </a> <ul class="isMobile astro-g2bywc46" style="--depth: 1;"> <li class="astro-g2bywc46" style="--depth: 1;"> <a href="#logs" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">Logs</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#metrics" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">Metrics</span> </a>  </li> </ul>  </li> </ul> </div></details></nav></mobile-starlight-toc><script type="module" src="/_astro/MobileTableOfContents.astro_astro_type_script_index_0_lang.C181hMzK.js"></script></div><div class="right-sidebar-panel sl-hidden lg:sl-block astro-pb3aqygn"><div class="sl-container astro-pb3aqygn"><starlight-toc data-min-h="2" data-max-h="3"><nav aria-labelledby="starlight__on-this-page"><h2 id="starlight__on-this-page">On this page</h2><ul class="astro-g2bywc46" style="--depth: 0;"> <li class="astro-g2bywc46" style="--depth: 0;"> <a href="#_top" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Introduction</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#key-benefits" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Key benefits</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#opentelemetry-integration" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">OpenTelemetry integration</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#configuration" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Configuration</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#google-cloud-telemetry" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Google Cloud telemetry</span> </a> <ul class="astro-g2bywc46" style="--depth: 1;"> <li class="astro-g2bywc46" style="--depth: 1;"> <a href="#prerequisites" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">Prerequisites</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#authenticating-with-cli-credentials" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">Authenticating with CLI Credentials</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#direct-export-recommended" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">Direct export (recommended)</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#collector-based-export-advanced" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">Collector-based export (advanced)</span> </a>  </li> </ul>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#local-telemetry" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Local telemetry</span> </a> <ul class="astro-g2bywc46" style="--depth: 1;"> <li class="astro-g2bywc46" style="--depth: 1;"> <a href="#file-based-output-recommended" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">File-based output (recommended)</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#collector-based-export-advanced-1" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">Collector-based export (advanced)</span> </a>  </li> </ul>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#logs-and-metrics" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Logs and metrics</span> </a> <ul class="astro-g2bywc46" style="--depth: 1;"> <li class="astro-g2bywc46" style="--depth: 1;"> <a href="#logs" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">Logs</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#metrics" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">Metrics</span> </a>  </li> </ul>  </li> </ul> </nav></starlight-toc><script type="module" src="/_astro/TableOfContents.astro_astro_type_script_index_0_lang.CKWWgpjV.js"></script></div></div> </div> </aside> <div class="main-pane astro-67yu43on">  <main data-pagefind-body class="astro-bguv2lll" lang="en" dir="ltr">    <div class="content-panel astro-7nkwcw3z"> <div class="sl-container astro-7nkwcw3z"> <div class="flex items-center page-title astro-guvttfii"> <h1 id="_top" class="flex-1 astro-guvttfii"> Observability with OpenTelemetry </h1> <div class="mt-4 astro-guvttfii"> <button id="copy-markdown-btn" class="copy-markdown-button astro-guvttfii astro-ym2cbydy" type="button" aria-label="Copy page content as markdown for selected language" title="Copy as Markdown"> <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="astro-ym2cbydy"> <rect width="14" height="14" x="8" y="8" rx="2" ry="2" class="astro-ym2cbydy"></rect> <path d="m4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2" class="astro-ym2cbydy"></path> </svg> <span class="button-text astro-ym2cbydy">Copy as Markdown</span> <span class="success-text astro-ym2cbydy" style="display: none;">Copied!</span> </button>  <script type="module">class i{constructor(){this.init()}init(){document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>this.setupEventListeners()):this.setupEventListeners()}setupEventListeners(){const t=document.getElementById("copy-markdown-btn");t&&t.addEventListener("click",()=>this.copyMarkdown())}async copyMarkdown(){const t=document.getElementById("copy-markdown-btn");if(t)try{this.setButtonState(t,"copying");const e=`${window.location.pathname.replace(/\/$/,"")}.md`,o=await fetch(e);if(!o.ok)throw new Error(`Failed to fetch markdown: ${o.status}`);const a=await o.text();await this.copyToClipboard(a),this.setButtonState(t,"success"),setTimeout(()=>{this.setButtonState(t,"default")},2e3)}catch(n){console.error("Failed to copy markdown:",n),this.setButtonState(t,"error"),setTimeout(()=>{this.setButtonState(t,"default")},2e3)}}getCurrentLanguage(){return document.documentElement.getAttribute("data-genkit-lang")||"js"}async copyToClipboard(t){if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(t);else throw new Error("Clipboard API not available.")}setButtonState(t,n){const s=t.querySelector(".button-text"),e=t.querySelector(".success-text");switch(t.classList.remove("copying","success","error"),n){case"copying":t.classList.add("copying"),s&&(s.style.display="none"),e&&(e.textContent="Copying...",e.style.display="inline");break;case"success":t.classList.add("success"),s&&(s.style.display="none"),e&&(e.textContent="Copied!",e.style.display="inline");break;case"error":t.classList.add("error"),s&&(s.style.display="none"),e&&(e.textContent="Error",e.style.display="inline");break;default:s&&(s.style.display="inline"),e&&(e.style.display="none");break}}}new i;</script> </div> </div>  </div> </div>  <div class="content-panel astro-7nkwcw3z"> <div class="sl-container astro-7nkwcw3z"> <div class="sl-markdown-content"> <p>Learn how to enable and setup OpenTelemetry for Gemini CLI.</p>
<ul>
<li><a href="#observability-with-opentelemetry">Observability with OpenTelemetry</a>
<ul>
<li><a href="#key-benefits">Key benefits</a></li>
<li><a href="#opentelemetry-integration">OpenTelemetry integration</a></li>
<li><a href="#configuration">Configuration</a></li>
<li><a href="#google-cloud-telemetry">Google Cloud telemetry</a>
<ul>
<li><a href="#prerequisites">Prerequisites</a></li>
<li><a href="#direct-export-recommended">Direct export (recommended)</a></li>
<li><a href="#collector-based-export-advanced">Collector-based export (advanced)</a></li>
</ul>
</li>
<li><a href="#local-telemetry">Local telemetry</a>
<ul>
<li><a href="#file-based-output-recommended">File-based output (recommended)</a></li>
<li><a href="#collector-based-export-advanced-1">Collector-based export (advanced)</a></li>
</ul>
</li>
<li><a href="#logs-and-metrics">Logs and metrics</a>
<ul>
<li><a href="#logs">Logs</a>
<ul>
<li><a href="#sessions">Sessions</a></li>
<li><a href="#tools">Tools</a></li>
<li><a href="#files">Files</a></li>
<li><a href="#api">API</a></li>
<li><a href="#model-routing">Model routing</a></li>
<li><a href="#chat-and-streaming">Chat and streaming</a></li>
<li><a href="#resilience">Resilience</a></li>
<li><a href="#extensions">Extensions</a></li>
<li><a href="#agent-runs">Agent runs</a></li>
<li><a href="#ide">IDE</a></li>
<li><a href="#ui">UI</a></li>
</ul>
</li>
<li><a href="#metrics">Metrics</a>
<ul>
<li><a href="#custom">Custom</a>
<ul>
<li><a href="#sessions-1">Sessions</a></li>
<li><a href="#tools-1">Tools</a></li>
<li><a href="#api-1">API</a></li>
<li><a href="#token-usage">Token usage</a></li>
<li><a href="#files-1">Files</a></li>
<li><a href="#chat-and-streaming-1">Chat and streaming</a></li>
<li><a href="#model-routing-1">Model routing</a></li>
<li><a href="#agent-runs-1">Agent runs</a></li>
<li><a href="#ui-1">UI</a></li>
<li><a href="#performance">Performance</a></li>
</ul>
</li>
<li><a href="#genai-semantic-convention">GenAI semantic convention</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="sl-heading-wrapper level-h2"><h2 id="key-benefits">Key benefits</h2><a class="sl-anchor-link" href="#key-benefits"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled ‚ÄúKey benefits‚Äù</span></a></div>
<ul>
<li><strong>üîç Usage analytics</strong>: Understand interaction patterns and feature adoption
across your team</li>
<li><strong>‚ö° Performance monitoring</strong>: Track response times, token consumption, and
resource utilization</li>
<li><strong>üêõ Real-time debugging</strong>: Identify bottlenecks, failures, and error patterns
as they occur</li>
<li><strong>üìä Workflow optimization</strong>: Make informed decisions to improve
configurations and processes</li>
<li><strong>üè¢ Enterprise governance</strong>: Monitor usage across teams, track costs, ensure
compliance, and integrate with existing monitoring infrastructure</li>
</ul>
<div class="sl-heading-wrapper level-h2"><h2 id="opentelemetry-integration">OpenTelemetry integration</h2><a class="sl-anchor-link" href="#opentelemetry-integration"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled ‚ÄúOpenTelemetry integration‚Äù</span></a></div>
<p>Built on <strong><a href="https://opentelemetry.io/">OpenTelemetry</a></strong> ‚Äî the vendor-neutral, industry-standard
observability framework ‚Äî Gemini CLI‚Äôs observability system provides:</p>
<ul>
<li><strong>Universal compatibility</strong>: Export to any OpenTelemetry backend (Google
Cloud, Jaeger, Prometheus, Datadog, etc.)</li>
<li><strong>Standardized data</strong>: Use consistent formats and collection methods across
your toolchain</li>
<li><strong>Future-proof integration</strong>: Connect with existing and future observability
infrastructure</li>
<li><strong>No vendor lock-in</strong>: Switch between backends without changing your
instrumentation</li>
</ul>
<div class="sl-heading-wrapper level-h2"><h2 id="configuration">Configuration</h2><a class="sl-anchor-link" href="#configuration"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled ‚ÄúConfiguration‚Äù</span></a></div>
<p>All telemetry behavior is controlled through your <code dir="auto">.gemini/settings.json</code> file.
Environment variables can be used to override the settings in the file.</p>




































































<table><thead><tr><th>Setting</th><th>Environment Variable</th><th>Description</th><th>Values</th><th>Default</th></tr></thead><tbody><tr><td><code dir="auto">enabled</code></td><td><code dir="auto">GEMINI_TELEMETRY_ENABLED</code></td><td>Enable or disable telemetry</td><td><code dir="auto">true</code>/<code dir="auto">false</code></td><td><code dir="auto">false</code></td></tr><tr><td><code dir="auto">target</code></td><td><code dir="auto">GEMINI_TELEMETRY_TARGET</code></td><td>Where to send telemetry data</td><td><code dir="auto">"gcp"</code>/<code dir="auto">"local"</code></td><td><code dir="auto">"local"</code></td></tr><tr><td><code dir="auto">otlpEndpoint</code></td><td><code dir="auto">GEMINI_TELEMETRY_OTLP_ENDPOINT</code></td><td>OTLP collector endpoint</td><td>URL string</td><td><code dir="auto">http://localhost:4317</code></td></tr><tr><td><code dir="auto">otlpProtocol</code></td><td><code dir="auto">GEMINI_TELEMETRY_OTLP_PROTOCOL</code></td><td>OTLP transport protocol</td><td><code dir="auto">"grpc"</code>/<code dir="auto">"http"</code></td><td><code dir="auto">"grpc"</code></td></tr><tr><td><code dir="auto">outfile</code></td><td><code dir="auto">GEMINI_TELEMETRY_OUTFILE</code></td><td>Save telemetry to file (overrides <code dir="auto">otlpEndpoint</code>)</td><td>file path</td><td>-</td></tr><tr><td><code dir="auto">logPrompts</code></td><td><code dir="auto">GEMINI_TELEMETRY_LOG_PROMPTS</code></td><td>Include prompts in telemetry logs</td><td><code dir="auto">true</code>/<code dir="auto">false</code></td><td><code dir="auto">true</code></td></tr><tr><td><code dir="auto">useCollector</code></td><td><code dir="auto">GEMINI_TELEMETRY_USE_COLLECTOR</code></td><td>Use external OTLP collector (advanced)</td><td><code dir="auto">true</code>/<code dir="auto">false</code></td><td><code dir="auto">false</code></td></tr><tr><td><code dir="auto">useCliAuth</code></td><td><code dir="auto">GEMINI_TELEMETRY_USE_CLI_AUTH</code></td><td>Use CLI credentials for telemetry (GCP target only)</td><td><code dir="auto">true</code>/<code dir="auto">false</code></td><td><code dir="auto">false</code></td></tr></tbody></table>
<p><strong>Note on boolean environment variables:</strong> For the boolean settings (<code dir="auto">enabled</code>,
<code dir="auto">logPrompts</code>, <code dir="auto">useCollector</code>), setting the corresponding environment variable to
<code dir="auto">true</code> or <code dir="auto">1</code> will enable the feature. Any other value will disable it.</p>
<p>For detailed information about all configuration options, see the
<a href="/docs/get-started/configuration">Configuration guide</a>.</p>
<div class="sl-heading-wrapper level-h2"><h2 id="google-cloud-telemetry">Google Cloud telemetry</h2><a class="sl-anchor-link" href="#google-cloud-telemetry"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled ‚ÄúGoogle Cloud telemetry‚Äù</span></a></div>
<div class="sl-heading-wrapper level-h3"><h3 id="prerequisites">Prerequisites</h3><a class="sl-anchor-link" href="#prerequisites"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled ‚ÄúPrerequisites‚Äù</span></a></div>
<p>Before using either method below, complete these steps:</p>
<ol>
<li>
<p>Set your Google Cloud project ID:</p>
<ul>
<li>For telemetry in a separate project from inference:
<div class="expressive-code"><link rel="stylesheet" href="/_astro/ec.me98n.css"><script type="module" src="/_astro/ec.p1z7b.js"></script><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#FD8DA3;--1:#C12F57">export</span><span style="--0:#E1DFDF;--1:#292929"> OTLP_GOOGLE_CLOUD_PROJECT</span><span style="--0:#FD8DA3;--1:#C12F57">=</span><span style="--0:#77D5A3;--1:#007847">"your-telemetry-project-id"</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="export OTLP_GOOGLE_CLOUD_PROJECT=&#x22;your-telemetry-project-id&#x22;"><div></div></button></div></figure></div>
</li>
<li>For telemetry in the same project as inference:
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#FD8DA3;--1:#C12F57">export</span><span style="--0:#E1DFDF;--1:#292929"> GOOGLE_CLOUD_PROJECT</span><span style="--0:#FD8DA3;--1:#C12F57">=</span><span style="--0:#77D5A3;--1:#007847">"your-project-id"</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="export GOOGLE_CLOUD_PROJECT=&#x22;your-project-id&#x22;"><div></div></button></div></figure></div>
</li>
</ul>
</li>
<li>
<p>Authenticate with Google Cloud:</p>
<ul>
<li>If using a user account:
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#BD9CFE;--1:#6F4CDE">gcloud</span><span style="--0:#E1DFDF;--1:#292929"> </span><span style="--0:#77D5A3;--1:#007847">auth</span><span style="--0:#E1DFDF;--1:#292929"> </span><span style="--0:#77D5A3;--1:#007847">application-default</span><span style="--0:#E1DFDF;--1:#292929"> </span><span style="--0:#77D5A3;--1:#007847">login</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="gcloud auth application-default login"><div></div></button></div></figure></div>
</li>
<li>If using a service account:
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#FD8DA3;--1:#C12F57">export</span><span style="--0:#E1DFDF;--1:#292929"> GOOGLE_APPLICATION_CREDENTIALS</span><span style="--0:#FD8DA3;--1:#C12F57">=</span><span style="--0:#77D5A3;--1:#007847">"/path/to/your/service-account.json"</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="export GOOGLE_APPLICATION_CREDENTIALS=&#x22;/path/to/your/service-account.json&#x22;"><div></div></button></div></figure></div>
</li>
</ul>
</li>
<li>
<p>Make sure your account or service account has these IAM roles:</p>
<ul>
<li>Cloud Trace Agent</li>
<li>Monitoring Metric Writer</li>
<li>Logs Writer</li>
</ul>
</li>
<li>
<p>Enable the required Google Cloud APIs (if not already enabled):</p>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#BD9CFE;--1:#6F4CDE">gcloud</span><span style="--0:#E1DFDF;--1:#292929"> </span><span style="--0:#77D5A3;--1:#007847">services</span><span style="--0:#E1DFDF;--1:#292929"> </span><span style="--0:#77D5A3;--1:#007847">enable</span><span style="--0:#E1DFDF;--1:#292929"> </span><span style="--0:#8DA8FF;--1:#3252B8">\</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#77D5A3;--1:#007847">cloudtrace.googleapis.com</span><span style="--0:#E1DFDF;--1:#292929"> </span><span style="--0:#8DA8FF;--1:#3252B8">\</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#77D5A3;--1:#007847">monitoring.googleapis.com</span><span style="--0:#E1DFDF;--1:#292929"> </span><span style="--0:#8DA8FF;--1:#3252B8">\</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#77D5A3;--1:#007847">logging.googleapis.com</span><span style="--0:#E1DFDF;--1:#292929"> </span><span style="--0:#8DA8FF;--1:#3252B8">\</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#8DA8FF;--1:#3252B8">--project=</span><span style="--0:#77D5A3;--1:#007847">"</span><span style="--0:#E1DFDF;--1:#292929">$OTLP_GOOGLE_CLOUD_PROJECT</span><span style="--0:#77D5A3;--1:#007847">"</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="gcloud services enable \  cloudtrace.googleapis.com \  monitoring.googleapis.com \  logging.googleapis.com \  --project=&#x22;$OTLP_GOOGLE_CLOUD_PROJECT&#x22;"><div></div></button></div></figure></div>
</li>
</ol>
<div class="sl-heading-wrapper level-h3"><h3 id="authenticating-with-cli-credentials">Authenticating with CLI Credentials</h3><a class="sl-anchor-link" href="#authenticating-with-cli-credentials"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled ‚ÄúAuthenticating with CLI Credentials‚Äù</span></a></div>
<p>By default, the telemetry collector for Google Cloud uses Application Default
Credentials (ADC). However, you can configure it to use the same OAuth
credentials that you use to log in to the Gemini CLI. This is useful in
environments where you don‚Äôt have ADC set up.</p>
<p>To enable this, set the <code dir="auto">useCliAuth</code> property in your <code dir="auto">telemetry</code> settings to
<code dir="auto">true</code>:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="json"><code><div class="ec-line"><div class="code"><span style="--0:#E1DFDF;--1:#292929">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85CDF1;--1:#00709A">"telemetry"</span><span style="--0:#E1DFDF;--1:#292929">: {</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85CDF1;--1:#00709A">"enabled"</span><span style="--0:#E1DFDF;--1:#292929">: </span><span style="--0:#8DA8FF;--1:#3252B8">true</span><span style="--0:#E1DFDF;--1:#292929">,</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85CDF1;--1:#00709A">"target"</span><span style="--0:#E1DFDF;--1:#292929">: </span><span style="--0:#77D5A3;--1:#007847">"gcp"</span><span style="--0:#E1DFDF;--1:#292929">,</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85CDF1;--1:#00709A">"useCliAuth"</span><span style="--0:#E1DFDF;--1:#292929">: </span><span style="--0:#8DA8FF;--1:#3252B8">true</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1DFDF;--1:#292929">  </span></span><span style="--0:#E1DFDF;--1:#292929">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#E1DFDF;--1:#292929">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="{  &#x22;telemetry&#x22;: {    &#x22;enabled&#x22;: true,    &#x22;target&#x22;: &#x22;gcp&#x22;,    &#x22;useCliAuth&#x22;: true  }}"><div></div></button></div></figure></div>
<p><strong>Important:</strong></p>
<ul>
<li>This setting requires the use of <strong>Direct Export</strong> (in-process exporters).</li>
<li>It <strong>cannot</strong> be used with <code dir="auto">useCollector: true</code>. If you enable both, telemetry
will be disabled and an error will be logged.</li>
<li>The CLI will automatically use your credentials to authenticate with Google
Cloud Trace, Metrics, and Logging APIs.</li>
</ul>
<div class="sl-heading-wrapper level-h3"><h3 id="direct-export-recommended">Direct export (recommended)</h3><a class="sl-anchor-link" href="#direct-export-recommended"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled ‚ÄúDirect export (recommended)‚Äù</span></a></div>
<p>Sends telemetry directly to Google Cloud services. No collector needed.</p>
<ol>
<li>Enable telemetry in your <code dir="auto">.gemini/settings.json</code>:
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="json"><code><div class="ec-line"><div class="code"><span style="--0:#E1DFDF;--1:#292929">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85CDF1;--1:#00709A">"telemetry"</span><span style="--0:#E1DFDF;--1:#292929">: {</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85CDF1;--1:#00709A">"enabled"</span><span style="--0:#E1DFDF;--1:#292929">: </span><span style="--0:#8DA8FF;--1:#3252B8">true</span><span style="--0:#E1DFDF;--1:#292929">,</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85CDF1;--1:#00709A">"target"</span><span style="--0:#E1DFDF;--1:#292929">: </span><span style="--0:#77D5A3;--1:#007847">"gcp"</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1DFDF;--1:#292929">  </span></span><span style="--0:#E1DFDF;--1:#292929">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#E1DFDF;--1:#292929">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="{  &#x22;telemetry&#x22;: {    &#x22;enabled&#x22;: true,    &#x22;target&#x22;: &#x22;gcp&#x22;  }}"><div></div></button></div></figure></div>
</li>
<li>Run Gemini CLI and send prompts.</li>
<li>View logs and metrics:
<ul>
<li>Open the Google Cloud Console in your browser after sending prompts:
<ul>
<li>Logs: <a href="https://console.cloud.google.com/logs/">https://console.cloud.google.com/logs/</a></li>
<li>Metrics: <a href="https://console.cloud.google.com/monitoring/metrics-explorer">https://console.cloud.google.com/monitoring/metrics-explorer</a></li>
<li>Traces: <a href="https://console.cloud.google.com/traces/list">https://console.cloud.google.com/traces/list</a></li>
</ul>
</li>
</ul>
</li>
</ol>
<div class="sl-heading-wrapper level-h3"><h3 id="collector-based-export-advanced">Collector-based export (advanced)</h3><a class="sl-anchor-link" href="#collector-based-export-advanced"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled ‚ÄúCollector-based export (advanced)‚Äù</span></a></div>
<p>For custom processing, filtering, or routing, use an OpenTelemetry collector to
forward data to Google Cloud.</p>
<ol>
<li>Configure your <code dir="auto">.gemini/settings.json</code>:
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="json"><code><div class="ec-line"><div class="code"><span style="--0:#E1DFDF;--1:#292929">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85CDF1;--1:#00709A">"telemetry"</span><span style="--0:#E1DFDF;--1:#292929">: {</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85CDF1;--1:#00709A">"enabled"</span><span style="--0:#E1DFDF;--1:#292929">: </span><span style="--0:#8DA8FF;--1:#3252B8">true</span><span style="--0:#E1DFDF;--1:#292929">,</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85CDF1;--1:#00709A">"target"</span><span style="--0:#E1DFDF;--1:#292929">: </span><span style="--0:#77D5A3;--1:#007847">"gcp"</span><span style="--0:#E1DFDF;--1:#292929">,</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85CDF1;--1:#00709A">"useCollector"</span><span style="--0:#E1DFDF;--1:#292929">: </span><span style="--0:#8DA8FF;--1:#3252B8">true</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1DFDF;--1:#292929">  </span></span><span style="--0:#E1DFDF;--1:#292929">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#E1DFDF;--1:#292929">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="{  &#x22;telemetry&#x22;: {    &#x22;enabled&#x22;: true,    &#x22;target&#x22;: &#x22;gcp&#x22;,    &#x22;useCollector&#x22;: true  }}"><div></div></button></div></figure></div>
</li>
<li>Run the automation script:
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#BD9CFE;--1:#6F4CDE">npm</span><span style="--0:#E1DFDF;--1:#292929"> </span><span style="--0:#77D5A3;--1:#007847">run</span><span style="--0:#E1DFDF;--1:#292929"> </span><span style="--0:#77D5A3;--1:#007847">telemetry</span><span style="--0:#E1DFDF;--1:#292929"> </span><span style="--0:#8DA8FF;--1:#3252B8">--</span><span style="--0:#E1DFDF;--1:#292929"> </span><span style="--0:#8DA8FF;--1:#3252B8">--target=gcp</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="npm run telemetry -- --target=gcp"><div></div></button></div></figure></div>
This will:
<ul>
<li>Start a local OTEL collector that forwards to Google Cloud</li>
<li>Configure your workspace</li>
<li>Provide links to view traces, metrics, and logs in Google Cloud Console</li>
<li>Save collector logs to <code dir="auto">~/.gemini/tmp/&#x3C;projectHash>/otel/collector-gcp.log</code></li>
<li>Stop collector on exit (e.g. <code dir="auto">Ctrl+C</code>)</li>
</ul>
</li>
<li>Run Gemini CLI and send prompts.</li>
<li>View logs and metrics:
<ul>
<li>Open the Google Cloud Console in your browser after sending prompts:
<ul>
<li>Logs: <a href="https://console.cloud.google.com/logs/">https://console.cloud.google.com/logs/</a></li>
<li>Metrics: <a href="https://console.cloud.google.com/monitoring/metrics-explorer">https://console.cloud.google.com/monitoring/metrics-explorer</a></li>
<li>Traces: <a href="https://console.cloud.google.com/traces/list">https://console.cloud.google.com/traces/list</a></li>
</ul>
</li>
<li>Open <code dir="auto">~/.gemini/tmp/&#x3C;projectHash>/otel/collector-gcp.log</code> to view local
collector logs.</li>
</ul>
</li>
</ol>
<div class="sl-heading-wrapper level-h2"><h2 id="local-telemetry">Local telemetry</h2><a class="sl-anchor-link" href="#local-telemetry"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled ‚ÄúLocal telemetry‚Äù</span></a></div>
<p>For local development and debugging, you can capture telemetry data locally:</p>
<div class="sl-heading-wrapper level-h3"><h3 id="file-based-output-recommended">File-based output (recommended)</h3><a class="sl-anchor-link" href="#file-based-output-recommended"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled ‚ÄúFile-based output (recommended)‚Äù</span></a></div>
<ol>
<li>Enable telemetry in your <code dir="auto">.gemini/settings.json</code>:
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="json"><code><div class="ec-line"><div class="code"><span style="--0:#E1DFDF;--1:#292929">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85CDF1;--1:#00709A">"telemetry"</span><span style="--0:#E1DFDF;--1:#292929">: {</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85CDF1;--1:#00709A">"enabled"</span><span style="--0:#E1DFDF;--1:#292929">: </span><span style="--0:#8DA8FF;--1:#3252B8">true</span><span style="--0:#E1DFDF;--1:#292929">,</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85CDF1;--1:#00709A">"target"</span><span style="--0:#E1DFDF;--1:#292929">: </span><span style="--0:#77D5A3;--1:#007847">"local"</span><span style="--0:#E1DFDF;--1:#292929">,</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85CDF1;--1:#00709A">"otlpEndpoint"</span><span style="--0:#E1DFDF;--1:#292929">: </span><span style="--0:#77D5A3;--1:#007847">""</span><span style="--0:#E1DFDF;--1:#292929">,</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85CDF1;--1:#00709A">"outfile"</span><span style="--0:#E1DFDF;--1:#292929">: </span><span style="--0:#77D5A3;--1:#007847">".gemini/telemetry.log"</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1DFDF;--1:#292929">  </span></span><span style="--0:#E1DFDF;--1:#292929">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#E1DFDF;--1:#292929">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="{  &#x22;telemetry&#x22;: {    &#x22;enabled&#x22;: true,    &#x22;target&#x22;: &#x22;local&#x22;,    &#x22;otlpEndpoint&#x22;: &#x22;&#x22;,    &#x22;outfile&#x22;: &#x22;.gemini/telemetry.log&#x22;  }}"><div></div></button></div></figure></div>
</li>
<li>Run Gemini CLI and send prompts.</li>
<li>View logs and metrics in the specified file (e.g., <code dir="auto">.gemini/telemetry.log</code>).</li>
</ol>
<div class="sl-heading-wrapper level-h3"><h3 id="collector-based-export-advanced-1">Collector-based export (advanced)</h3><a class="sl-anchor-link" href="#collector-based-export-advanced-1"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled ‚ÄúCollector-based export (advanced)‚Äù</span></a></div>
<ol>
<li>Run the automation script:
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#BD9CFE;--1:#6F4CDE">npm</span><span style="--0:#E1DFDF;--1:#292929"> </span><span style="--0:#77D5A3;--1:#007847">run</span><span style="--0:#E1DFDF;--1:#292929"> </span><span style="--0:#77D5A3;--1:#007847">telemetry</span><span style="--0:#E1DFDF;--1:#292929"> </span><span style="--0:#8DA8FF;--1:#3252B8">--</span><span style="--0:#E1DFDF;--1:#292929"> </span><span style="--0:#8DA8FF;--1:#3252B8">--target=local</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="npm run telemetry -- --target=local"><div></div></button></div></figure></div>
This will:
<ul>
<li>Download and start Jaeger and OTEL collector</li>
<li>Configure your workspace for local telemetry</li>
<li>Provide a Jaeger UI at <a href="http://localhost:16686">http://localhost:16686</a></li>
<li>Save logs/metrics to <code dir="auto">~/.gemini/tmp/&#x3C;projectHash>/otel/collector.log</code></li>
<li>Stop collector on exit (e.g. <code dir="auto">Ctrl+C</code>)</li>
</ul>
</li>
<li>Run Gemini CLI and send prompts.</li>
<li>View traces at <a href="http://localhost:16686">http://localhost:16686</a> and logs/metrics in the collector log
file.</li>
</ol>
<div class="sl-heading-wrapper level-h2"><h2 id="logs-and-metrics">Logs and metrics</h2><a class="sl-anchor-link" href="#logs-and-metrics"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled ‚ÄúLogs and metrics‚Äù</span></a></div>
<p>The following section describes the structure of logs and metrics generated for
Gemini CLI.</p>
<p>The <code dir="auto">session.id</code>, <code dir="auto">installation.id</code>, and <code dir="auto">user.email</code> (available only when
authenticated with a Google account) are included as common attributes on all
logs and metrics.</p>
<div class="sl-heading-wrapper level-h3"><h3 id="logs">Logs</h3><a class="sl-anchor-link" href="#logs"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled ‚ÄúLogs‚Äù</span></a></div>
<p>Logs are timestamped records of specific events. The following events are logged
for Gemini CLI, grouped by category.</p>
<div class="sl-heading-wrapper level-h4"><h4 id="sessions">Sessions</h4><a class="sl-anchor-link" href="#sessions"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled ‚ÄúSessions‚Äù</span></a></div>
<p>Captures startup configuration and user prompt submissions.</p>
<ul>
<li>
<p><code dir="auto">gemini_cli.config</code>: Emitted once at startup with the CLI configuration.</p>
<ul>
<li><strong>Attributes</strong>:
<ul>
<li><code dir="auto">model</code> (string)</li>
<li><code dir="auto">embedding_model</code> (string)</li>
<li><code dir="auto">sandbox_enabled</code> (boolean)</li>
<li><code dir="auto">core_tools_enabled</code> (string)</li>
<li><code dir="auto">approval_mode</code> (string)</li>
<li><code dir="auto">api_key_enabled</code> (boolean)</li>
<li><code dir="auto">vertex_ai_enabled</code> (boolean)</li>
<li><code dir="auto">log_user_prompts_enabled</code> (boolean)</li>
<li><code dir="auto">file_filtering_respect_git_ignore</code> (boolean)</li>
<li><code dir="auto">debug_mode</code> (boolean)</li>
<li><code dir="auto">mcp_servers</code> (string)</li>
<li><code dir="auto">mcp_servers_count</code> (int)</li>
<li><code dir="auto">extensions</code> (string)</li>
<li><code dir="auto">extension_ids</code> (string)</li>
<li><code dir="auto">extension_count</code> (int)</li>
<li><code dir="auto">mcp_tools</code> (string, if applicable)</li>
<li><code dir="auto">mcp_tools_count</code> (int, if applicable)</li>
<li><code dir="auto">output_format</code> (‚Äútext‚Äù, ‚Äújson‚Äù, or ‚Äústream-json‚Äù)</li>
</ul>
</li>
</ul>
</li>
<li>
<p><code dir="auto">gemini_cli.user_prompt</code>: Emitted when a user submits a prompt.</p>
<ul>
<li><strong>Attributes</strong>:
<ul>
<li><code dir="auto">prompt_length</code> (int)</li>
<li><code dir="auto">prompt_id</code> (string)</li>
<li><code dir="auto">prompt</code> (string; excluded if <code dir="auto">telemetry.logPrompts</code> is <code dir="auto">false</code>)</li>
<li><code dir="auto">auth_type</code> (string)</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="sl-heading-wrapper level-h4"><h4 id="tools">Tools</h4><a class="sl-anchor-link" href="#tools"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled ‚ÄúTools‚Äù</span></a></div>
<p>Captures tool executions, output truncation, and Edit behavior.</p>
<ul>
<li>
<p><code dir="auto">gemini_cli.tool_call</code>: Emitted for each tool (function) call.</p>
<ul>
<li><strong>Attributes</strong>:
<ul>
<li><code dir="auto">function_name</code></li>
<li><code dir="auto">function_args</code></li>
<li><code dir="auto">duration_ms</code></li>
<li><code dir="auto">success</code> (boolean)</li>
<li><code dir="auto">decision</code> (‚Äúaccept‚Äù, ‚Äúreject‚Äù, ‚Äúauto_accept‚Äù, or ‚Äúmodify‚Äù, if applicable)</li>
<li><code dir="auto">error</code> (if applicable)</li>
<li><code dir="auto">error_type</code> (if applicable)</li>
<li><code dir="auto">prompt_id</code> (string)</li>
<li><code dir="auto">tool_type</code> (‚Äúnative‚Äù or ‚Äúmcp‚Äù)</li>
<li><code dir="auto">mcp_server_name</code> (string, if applicable)</li>
<li><code dir="auto">extension_name</code> (string, if applicable)</li>
<li><code dir="auto">extension_id</code> (string, if applicable)</li>
<li><code dir="auto">content_length</code> (int, if applicable)</li>
<li><code dir="auto">metadata</code> (if applicable)</li>
</ul>
</li>
</ul>
</li>
<li>
<p><code dir="auto">gemini_cli.tool_output_truncated</code>: Output of a tool call was truncated.</p>
<ul>
<li><strong>Attributes</strong>:
<ul>
<li><code dir="auto">tool_name</code> (string)</li>
<li><code dir="auto">original_content_length</code> (int)</li>
<li><code dir="auto">truncated_content_length</code> (int)</li>
<li><code dir="auto">threshold</code> (int)</li>
<li><code dir="auto">lines</code> (int)</li>
<li><code dir="auto">prompt_id</code> (string)</li>
</ul>
</li>
</ul>
</li>
<li>
<p><code dir="auto">gemini_cli.edit_strategy</code>: Edit strategy chosen.</p>
<ul>
<li><strong>Attributes</strong>:
<ul>
<li><code dir="auto">strategy</code> (string)</li>
</ul>
</li>
</ul>
</li>
<li>
<p><code dir="auto">gemini_cli.edit_correction</code>: Edit correction result.</p>
<ul>
<li><strong>Attributes</strong>:
<ul>
<li><code dir="auto">correction</code> (‚Äúsuccess‚Äù | ‚Äúfailure‚Äù)</li>
</ul>
</li>
</ul>
</li>
<li>
<p><code dir="auto">gen_ai.client.inference.operation.details</code>: This event provides detailed
information about the GenAI operation, aligned with <a href="https://github.com/open-telemetry/semantic-conventions/blob/8b4f210f43136e57c1f6f47292eb6d38e3bf30bb/docs/gen-ai/gen-ai-events.md">OpenTelemetry GenAI
semantic conventions for events</a>.</p>
<ul>
<li><strong>Attributes</strong>:
<ul>
<li><code dir="auto">gen_ai.request.model</code> (string)</li>
<li><code dir="auto">gen_ai.provider.name</code> (string)</li>
<li><code dir="auto">gen_ai.operation.name</code> (string)</li>
<li><code dir="auto">gen_ai.input.messages</code> (json string)</li>
<li><code dir="auto">gen_ai.output.messages</code> (json string)</li>
<li><code dir="auto">gen_ai.response.finish_reasons</code> (array of strings)</li>
<li><code dir="auto">gen_ai.usage.input_tokens</code> (int)</li>
<li><code dir="auto">gen_ai.usage.output_tokens</code> (int)</li>
<li><code dir="auto">gen_ai.request.temperature</code> (float)</li>
<li><code dir="auto">gen_ai.request.top_p</code> (float)</li>
<li><code dir="auto">gen_ai.request.top_k</code> (int)</li>
<li><code dir="auto">gen_ai.request.max_tokens</code> (int)</li>
<li><code dir="auto">gen_ai.system_instructions</code> (json string)</li>
<li><code dir="auto">server.address</code> (string)</li>
<li><code dir="auto">server.port</code> (int)</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="sl-heading-wrapper level-h4"><h4 id="files">Files</h4><a class="sl-anchor-link" href="#files"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled ‚ÄúFiles‚Äù</span></a></div>
<p>Tracks file operations performed by tools.</p>
<ul>
<li><code dir="auto">gemini_cli.file_operation</code>: Emitted for each file operation.
<ul>
<li><strong>Attributes</strong>:
<ul>
<li><code dir="auto">tool_name</code> (string)</li>
<li><code dir="auto">operation</code> (‚Äúcreate‚Äù | ‚Äúread‚Äù | ‚Äúupdate‚Äù)</li>
<li><code dir="auto">lines</code> (int, optional)</li>
<li><code dir="auto">mimetype</code> (string, optional)</li>
<li><code dir="auto">extension</code> (string, optional)</li>
<li><code dir="auto">programming_language</code> (string, optional)</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="sl-heading-wrapper level-h4"><h4 id="api">API</h4><a class="sl-anchor-link" href="#api"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled ‚ÄúAPI‚Äù</span></a></div>
<p>Captures Gemini API requests, responses, and errors.</p>
<ul>
<li>
<p><code dir="auto">gemini_cli.api_request</code>: Request sent to Gemini API.</p>
<ul>
<li><strong>Attributes</strong>:
<ul>
<li><code dir="auto">model</code> (string)</li>
<li><code dir="auto">prompt_id</code> (string)</li>
<li><code dir="auto">request_text</code> (string, optional)</li>
</ul>
</li>
</ul>
</li>
<li>
<p><code dir="auto">gemini_cli.api_response</code>: Response received from Gemini API.</p>
<ul>
<li><strong>Attributes</strong>:
<ul>
<li><code dir="auto">model</code> (string)</li>
<li><code dir="auto">status_code</code> (int|string)</li>
<li><code dir="auto">duration_ms</code> (int)</li>
<li><code dir="auto">input_token_count</code> (int)</li>
<li><code dir="auto">output_token_count</code> (int)</li>
<li><code dir="auto">cached_content_token_count</code> (int)</li>
<li><code dir="auto">thoughts_token_count</code> (int)</li>
<li><code dir="auto">tool_token_count</code> (int)</li>
<li><code dir="auto">total_token_count</code> (int)</li>
<li><code dir="auto">response_text</code> (string, optional)</li>
<li><code dir="auto">prompt_id</code> (string)</li>
<li><code dir="auto">auth_type</code> (string)</li>
<li><code dir="auto">finish_reasons</code> (array of strings)</li>
</ul>
</li>
</ul>
</li>
<li>
<p><code dir="auto">gemini_cli.api_error</code>: API request failed.</p>
<ul>
<li><strong>Attributes</strong>:
<ul>
<li><code dir="auto">model</code> (string)</li>
<li><code dir="auto">error</code> (string)</li>
<li><code dir="auto">error_type</code> (string)</li>
<li><code dir="auto">status_code</code> (int|string)</li>
<li><code dir="auto">duration_ms</code> (int)</li>
<li><code dir="auto">prompt_id</code> (string)</li>
<li><code dir="auto">auth_type</code> (string)</li>
</ul>
</li>
</ul>
</li>
<li>
<p><code dir="auto">gemini_cli.malformed_json_response</code>: <code dir="auto">generateJson</code> response could not be
parsed.</p>
<ul>
<li><strong>Attributes</strong>:
<ul>
<li><code dir="auto">model</code> (string)</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="sl-heading-wrapper level-h4"><h4 id="model-routing">Model routing</h4><a class="sl-anchor-link" href="#model-routing"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled ‚ÄúModel routing‚Äù</span></a></div>
<ul>
<li>
<p><code dir="auto">gemini_cli.slash_command</code>: A slash command was executed.</p>
<ul>
<li><strong>Attributes</strong>:
<ul>
<li><code dir="auto">command</code> (string)</li>
<li><code dir="auto">subcommand</code> (string, optional)</li>
<li><code dir="auto">status</code> (‚Äúsuccess‚Äù | ‚Äúerror‚Äù)</li>
</ul>
</li>
</ul>
</li>
<li>
<p><code dir="auto">gemini_cli.slash_command.model</code>: Model was selected via slash command.</p>
<ul>
<li><strong>Attributes</strong>:
<ul>
<li><code dir="auto">model_name</code> (string)</li>
</ul>
</li>
</ul>
</li>
<li>
<p><code dir="auto">gemini_cli.model_routing</code>: Model router made a decision.</p>
<ul>
<li><strong>Attributes</strong>:
<ul>
<li><code dir="auto">decision_model</code> (string)</li>
<li><code dir="auto">decision_source</code> (string)</li>
<li><code dir="auto">routing_latency_ms</code> (int)</li>
<li><code dir="auto">reasoning</code> (string, optional)</li>
<li><code dir="auto">failed</code> (boolean)</li>
<li><code dir="auto">error_message</code> (string, optional)</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="sl-heading-wrapper level-h4"><h4 id="chat-and-streaming">Chat and streaming</h4><a class="sl-anchor-link" href="#chat-and-streaming"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled ‚ÄúChat and streaming‚Äù</span></a></div>
<ul>
<li>
<p><code dir="auto">gemini_cli.chat_compression</code>: Chat context was compressed.</p>
<ul>
<li><strong>Attributes</strong>:
<ul>
<li><code dir="auto">tokens_before</code> (int)</li>
<li><code dir="auto">tokens_after</code> (int)</li>
</ul>
</li>
</ul>
</li>
<li>
<p><code dir="auto">gemini_cli.chat.invalid_chunk</code>: Invalid chunk received from a stream.</p>
<ul>
<li><strong>Attributes</strong>:
<ul>
<li><code dir="auto">error.message</code> (string, optional)</li>
</ul>
</li>
</ul>
</li>
<li>
<p><code dir="auto">gemini_cli.chat.content_retry</code>: Retry triggered due to a content error.</p>
<ul>
<li><strong>Attributes</strong>:
<ul>
<li><code dir="auto">attempt_number</code> (int)</li>
<li><code dir="auto">error_type</code> (string)</li>
<li><code dir="auto">retry_delay_ms</code> (int)</li>
<li><code dir="auto">model</code> (string)</li>
</ul>
</li>
</ul>
</li>
<li>
<p><code dir="auto">gemini_cli.chat.content_retry_failure</code>: All content retries failed.</p>
<ul>
<li><strong>Attributes</strong>:
<ul>
<li><code dir="auto">total_attempts</code> (int)</li>
<li><code dir="auto">final_error_type</code> (string)</li>
<li><code dir="auto">total_duration_ms</code> (int, optional)</li>
<li><code dir="auto">model</code> (string)</li>
</ul>
</li>
</ul>
</li>
<li>
<p><code dir="auto">gemini_cli.conversation_finished</code>: Conversation session ended.</p>
<ul>
<li><strong>Attributes</strong>:
<ul>
<li><code dir="auto">approvalMode</code> (string)</li>
<li><code dir="auto">turnCount</code> (int)</li>
</ul>
</li>
</ul>
</li>
<li>
<p><code dir="auto">gemini_cli.next_speaker_check</code>: Next speaker determination.</p>
<ul>
<li><strong>Attributes</strong>:
<ul>
<li><code dir="auto">prompt_id</code> (string)</li>
<li><code dir="auto">finish_reason</code> (string)</li>
<li><code dir="auto">result</code> (string)</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="sl-heading-wrapper level-h4"><h4 id="resilience">Resilience</h4><a class="sl-anchor-link" href="#resilience"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled ‚ÄúResilience‚Äù</span></a></div>
<p>Records fallback mechanisms for models and network operations.</p>
<ul>
<li>
<p><code dir="auto">gemini_cli.flash_fallback</code>: Switched to a flash model as fallback.</p>
<ul>
<li><strong>Attributes</strong>:
<ul>
<li><code dir="auto">auth_type</code> (string)</li>
</ul>
</li>
</ul>
</li>
<li>
<p><code dir="auto">gemini_cli.ripgrep_fallback</code>: Switched to grep as fallback for file search.</p>
<ul>
<li><strong>Attributes</strong>:
<ul>
<li><code dir="auto">error</code> (string, optional)</li>
</ul>
</li>
</ul>
</li>
<li>
<p><code dir="auto">gemini_cli.web_fetch_fallback_attempt</code>: Attempted web-fetch fallback.</p>
<ul>
<li><strong>Attributes</strong>:
<ul>
<li><code dir="auto">reason</code> (‚Äúprivate_ip‚Äù | ‚Äúprimary_failed‚Äù)</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="sl-heading-wrapper level-h4"><h4 id="extensions">Extensions</h4><a class="sl-anchor-link" href="#extensions"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled ‚ÄúExtensions‚Äù</span></a></div>
<p>Tracks extension lifecycle and settings changes.</p>
<ul>
<li>
<p><code dir="auto">gemini_cli.extension_install</code>: An extension was installed.</p>
<ul>
<li><strong>Attributes</strong>:
<ul>
<li><code dir="auto">extension_name</code> (string)</li>
<li><code dir="auto">extension_version</code> (string)</li>
<li><code dir="auto">extension_source</code> (string)</li>
<li><code dir="auto">status</code> (string)</li>
</ul>
</li>
</ul>
</li>
<li>
<p><code dir="auto">gemini_cli.extension_uninstall</code>: An extension was uninstalled.</p>
<ul>
<li><strong>Attributes</strong>:
<ul>
<li><code dir="auto">extension_name</code> (string)</li>
<li><code dir="auto">status</code> (string)</li>
</ul>
</li>
</ul>
</li>
<li>
<p><code dir="auto">gemini_cli.extension_enable</code>: An extension was enabled.</p>
<ul>
<li><strong>Attributes</strong>:
<ul>
<li><code dir="auto">extension_name</code> (string)</li>
<li><code dir="auto">setting_scope</code> (string)</li>
</ul>
</li>
</ul>
</li>
<li>
<p><code dir="auto">gemini_cli.extension_disable</code>: An extension was disabled.</p>
<ul>
<li><strong>Attributes</strong>:
<ul>
<li><code dir="auto">extension_name</code> (string)</li>
<li><code dir="auto">setting_scope</code> (string)</li>
</ul>
</li>
</ul>
</li>
<li>
<p><code dir="auto">gemini_cli.extension_update</code>: An extension was updated.</p>
<ul>
<li><strong>Attributes</strong>:
<ul>
<li><code dir="auto">extension_name</code> (string)</li>
<li><code dir="auto">extension_version</code> (string)</li>
<li><code dir="auto">extension_previous_version</code> (string)</li>
<li><code dir="auto">extension_source</code> (string)</li>
<li><code dir="auto">status</code> (string)</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="sl-heading-wrapper level-h4"><h4 id="agent-runs">Agent runs</h4><a class="sl-anchor-link" href="#agent-runs"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled ‚ÄúAgent runs‚Äù</span></a></div>
<ul>
<li>
<p><code dir="auto">gemini_cli.agent.start</code>: Agent run started.</p>
<ul>
<li><strong>Attributes</strong>:
<ul>
<li><code dir="auto">agent_id</code> (string)</li>
<li><code dir="auto">agent_name</code> (string)</li>
</ul>
</li>
</ul>
</li>
<li>
<p><code dir="auto">gemini_cli.agent.finish</code>: Agent run finished.</p>
<ul>
<li><strong>Attributes</strong>:
<ul>
<li><code dir="auto">agent_id</code> (string)</li>
<li><code dir="auto">agent_name</code> (string)</li>
<li><code dir="auto">duration_ms</code> (int)</li>
<li><code dir="auto">turn_count</code> (int)</li>
<li><code dir="auto">terminate_reason</code> (string)</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="sl-heading-wrapper level-h4"><h4 id="ide">IDE</h4><a class="sl-anchor-link" href="#ide"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled ‚ÄúIDE‚Äù</span></a></div>
<p>Captures IDE connectivity and conversation lifecycle events.</p>
<ul>
<li><code dir="auto">gemini_cli.ide_connection</code>: IDE companion connection.
<ul>
<li><strong>Attributes</strong>:
<ul>
<li><code dir="auto">connection_type</code> (string)</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="sl-heading-wrapper level-h4"><h4 id="ui">UI</h4><a class="sl-anchor-link" href="#ui"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled ‚ÄúUI‚Äù</span></a></div>
<p>Tracks terminal rendering issues and related signals.</p>
<ul>
<li><code dir="auto">kitty_sequence_overflow</code>: Terminal kitty control sequence overflow.
<ul>
<li><strong>Attributes</strong>:
<ul>
<li><code dir="auto">sequence_length</code> (int)</li>
<li><code dir="auto">truncated_sequence</code> (string)</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="sl-heading-wrapper level-h3"><h3 id="metrics">Metrics</h3><a class="sl-anchor-link" href="#metrics"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled ‚ÄúMetrics‚Äù</span></a></div>
<p>Metrics are numerical measurements of behavior over time.</p>
<div class="sl-heading-wrapper level-h4"><h4 id="custom">Custom</h4><a class="sl-anchor-link" href="#custom"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled ‚ÄúCustom‚Äù</span></a></div>
<div class="sl-heading-wrapper level-h5"><h5 id="sessions-1">Sessions</h5><a class="sl-anchor-link" href="#sessions-1"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled ‚ÄúSessions‚Äù</span></a></div>
<p>Counts CLI sessions at startup.</p>
<ul>
<li><code dir="auto">gemini_cli.session.count</code> (Counter, Int): Incremented once per CLI startup.</li>
</ul>
<div class="sl-heading-wrapper level-h5"><h5 id="tools-1">Tools</h5><a class="sl-anchor-link" href="#tools-1"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled ‚ÄúTools‚Äù</span></a></div>
<p>Measures tool usage and latency.</p>
<ul>
<li>
<p><code dir="auto">gemini_cli.tool.call.count</code> (Counter, Int): Counts tool calls.</p>
<ul>
<li><strong>Attributes</strong>:
<ul>
<li><code dir="auto">function_name</code></li>
<li><code dir="auto">success</code> (boolean)</li>
<li><code dir="auto">decision</code> (string: ‚Äúaccept‚Äù, ‚Äúreject‚Äù, ‚Äúmodify‚Äù, or ‚Äúauto_accept‚Äù, if
applicable)</li>
<li><code dir="auto">tool_type</code> (string: ‚Äúmcp‚Äù or ‚Äúnative‚Äù, if applicable)</li>
</ul>
</li>
</ul>
</li>
<li>
<p><code dir="auto">gemini_cli.tool.call.latency</code> (Histogram, ms): Measures tool call latency.</p>
<ul>
<li><strong>Attributes</strong>:
<ul>
<li><code dir="auto">function_name</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="sl-heading-wrapper level-h5"><h5 id="api-1">API</h5><a class="sl-anchor-link" href="#api-1"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled ‚ÄúAPI‚Äù</span></a></div>
<p>Tracks API request volume and latency.</p>
<ul>
<li>
<p><code dir="auto">gemini_cli.api.request.count</code> (Counter, Int): Counts all API requests.</p>
<ul>
<li><strong>Attributes</strong>:
<ul>
<li><code dir="auto">model</code></li>
<li><code dir="auto">status_code</code></li>
<li><code dir="auto">error_type</code> (if applicable)</li>
</ul>
</li>
</ul>
</li>
<li>
<p><code dir="auto">gemini_cli.api.request.latency</code> (Histogram, ms): Measures API request
latency.</p>
<ul>
<li><strong>Attributes</strong>:
<ul>
<li><code dir="auto">model</code></li>
</ul>
</li>
<li>Note: Overlaps with <code dir="auto">gen_ai.client.operation.duration</code> (GenAI conventions).</li>
</ul>
</li>
</ul>
<div class="sl-heading-wrapper level-h5"><h5 id="token-usage">Token usage</h5><a class="sl-anchor-link" href="#token-usage"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled ‚ÄúToken usage‚Äù</span></a></div>
<p>Tracks tokens used by model and type.</p>
<ul>
<li><code dir="auto">gemini_cli.token.usage</code> (Counter, Int): Counts tokens used.
<ul>
<li><strong>Attributes</strong>:
<ul>
<li><code dir="auto">model</code></li>
<li><code dir="auto">type</code> (‚Äúinput‚Äù, ‚Äúoutput‚Äù, ‚Äúthought‚Äù, ‚Äúcache‚Äù, or ‚Äútool‚Äù)</li>
</ul>
</li>
<li>Note: Overlaps with <code dir="auto">gen_ai.client.token.usage</code> for <code dir="auto">input</code>/<code dir="auto">output</code>.</li>
</ul>
</li>
</ul>
<div class="sl-heading-wrapper level-h5"><h5 id="files-1">Files</h5><a class="sl-anchor-link" href="#files-1"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled ‚ÄúFiles‚Äù</span></a></div>
<p>Counts file operations with basic context.</p>
<ul>
<li>
<p><code dir="auto">gemini_cli.file.operation.count</code> (Counter, Int): Counts file operations.</p>
<ul>
<li><strong>Attributes</strong>:
<ul>
<li><code dir="auto">operation</code> (‚Äúcreate‚Äù, ‚Äúread‚Äù, ‚Äúupdate‚Äù)</li>
<li><code dir="auto">lines</code> (Int, optional)</li>
<li><code dir="auto">mimetype</code> (string, optional)</li>
<li><code dir="auto">extension</code> (string, optional)</li>
<li><code dir="auto">programming_language</code> (string, optional)</li>
</ul>
</li>
</ul>
</li>
<li>
<p><code dir="auto">gemini_cli.lines.changed</code> (Counter, Int): Number of lines changed (from file
diffs).</p>
<ul>
<li><strong>Attributes</strong>:
<ul>
<li><code dir="auto">function_name</code></li>
<li><code dir="auto">type</code> (‚Äúadded‚Äù or ‚Äúremoved‚Äù)</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="sl-heading-wrapper level-h5"><h5 id="chat-and-streaming-1">Chat and streaming</h5><a class="sl-anchor-link" href="#chat-and-streaming-1"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled ‚ÄúChat and streaming‚Äù</span></a></div>
<p>Resilience counters for compression, invalid chunks, and retries.</p>
<ul>
<li>
<p><code dir="auto">gemini_cli.chat_compression</code> (Counter, Int): Counts chat compression
operations.</p>
<ul>
<li><strong>Attributes</strong>:
<ul>
<li><code dir="auto">tokens_before</code> (Int)</li>
<li><code dir="auto">tokens_after</code> (Int)</li>
</ul>
</li>
</ul>
</li>
<li>
<p><code dir="auto">gemini_cli.chat.invalid_chunk.count</code> (Counter, Int): Counts invalid chunks
from streams.</p>
</li>
<li>
<p><code dir="auto">gemini_cli.chat.content_retry.count</code> (Counter, Int): Counts retries due to
content errors.</p>
</li>
<li>
<p><code dir="auto">gemini_cli.chat.content_retry_failure.count</code> (Counter, Int): Counts requests
where all content retries failed.</p>
</li>
</ul>
<div class="sl-heading-wrapper level-h5"><h5 id="model-routing-1">Model routing</h5><a class="sl-anchor-link" href="#model-routing-1"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled ‚ÄúModel routing‚Äù</span></a></div>
<p>Routing latency/failures and slash-command selections.</p>
<ul>
<li>
<p><code dir="auto">gemini_cli.slash_command.model.call_count</code> (Counter, Int): Counts model
selections via slash command.</p>
<ul>
<li><strong>Attributes</strong>:
<ul>
<li><code dir="auto">slash_command.model.model_name</code> (string)</li>
</ul>
</li>
</ul>
</li>
<li>
<p><code dir="auto">gemini_cli.model_routing.latency</code> (Histogram, ms): Model routing decision
latency.</p>
<ul>
<li><strong>Attributes</strong>:
<ul>
<li><code dir="auto">routing.decision_model</code> (string)</li>
<li><code dir="auto">routing.decision_source</code> (string)</li>
</ul>
</li>
</ul>
</li>
<li>
<p><code dir="auto">gemini_cli.model_routing.failure.count</code> (Counter, Int): Counts model routing
failures.</p>
<ul>
<li><strong>Attributes</strong>:
<ul>
<li><code dir="auto">routing.decision_source</code> (string)</li>
<li><code dir="auto">routing.error_message</code> (string)</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="sl-heading-wrapper level-h5"><h5 id="agent-runs-1">Agent runs</h5><a class="sl-anchor-link" href="#agent-runs-1"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled ‚ÄúAgent runs‚Äù</span></a></div>
<p>Agent lifecycle metrics: runs, durations, and turns.</p>
<ul>
<li>
<p><code dir="auto">gemini_cli.agent.run.count</code> (Counter, Int): Counts agent runs.</p>
<ul>
<li><strong>Attributes</strong>:
<ul>
<li><code dir="auto">agent_name</code> (string)</li>
<li><code dir="auto">terminate_reason</code> (string)</li>
</ul>
</li>
</ul>
</li>
<li>
<p><code dir="auto">gemini_cli.agent.duration</code> (Histogram, ms): Agent run durations.</p>
<ul>
<li><strong>Attributes</strong>:
<ul>
<li><code dir="auto">agent_name</code> (string)</li>
</ul>
</li>
</ul>
</li>
<li>
<p><code dir="auto">gemini_cli.agent.turns</code> (Histogram, turns): Turns taken per agent run.</p>
<ul>
<li><strong>Attributes</strong>:
<ul>
<li><code dir="auto">agent_name</code> (string)</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="sl-heading-wrapper level-h5"><h5 id="ui-1">UI</h5><a class="sl-anchor-link" href="#ui-1"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled ‚ÄúUI‚Äù</span></a></div>
<p>UI stability signals such as flicker count.</p>
<ul>
<li><code dir="auto">gemini_cli.ui.flicker.count</code> (Counter, Int): Counts UI frames that flicker
(render taller than terminal).</li>
</ul>
<div class="sl-heading-wrapper level-h5"><h5 id="performance">Performance</h5><a class="sl-anchor-link" href="#performance"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled ‚ÄúPerformance‚Äù</span></a></div>
<p>Optional performance monitoring for startup, CPU/memory, and phase timing.</p>
<ul>
<li>
<p><code dir="auto">gemini_cli.startup.duration</code> (Histogram, ms): CLI startup time by phase.</p>
<ul>
<li><strong>Attributes</strong>:
<ul>
<li><code dir="auto">phase</code> (string)</li>
<li><code dir="auto">details</code> (map, optional)</li>
</ul>
</li>
</ul>
</li>
<li>
<p><code dir="auto">gemini_cli.memory.usage</code> (Histogram, bytes): Memory usage.</p>
<ul>
<li><strong>Attributes</strong>:
<ul>
<li><code dir="auto">memory_type</code> (‚Äúheap_used‚Äù, ‚Äúheap_total‚Äù, ‚Äúexternal‚Äù, ‚Äúrss‚Äù)</li>
<li><code dir="auto">component</code> (string, optional)</li>
</ul>
</li>
</ul>
</li>
<li>
<p><code dir="auto">gemini_cli.cpu.usage</code> (Histogram, percent): CPU usage percentage.</p>
<ul>
<li><strong>Attributes</strong>:
<ul>
<li><code dir="auto">component</code> (string, optional)</li>
</ul>
</li>
</ul>
</li>
<li>
<p><code dir="auto">gemini_cli.tool.queue.depth</code> (Histogram, count): Number of tools in the
execution queue.</p>
</li>
<li>
<p><code dir="auto">gemini_cli.tool.execution.breakdown</code> (Histogram, ms): Tool time by phase.</p>
<ul>
<li><strong>Attributes</strong>:
<ul>
<li><code dir="auto">function_name</code> (string)</li>
<li><code dir="auto">phase</code> (‚Äúvalidation‚Äù, ‚Äúpreparation‚Äù, ‚Äúexecution‚Äù, ‚Äúresult_processing‚Äù)</li>
</ul>
</li>
</ul>
</li>
<li>
<p><code dir="auto">gemini_cli.api.request.breakdown</code> (Histogram, ms): API request time by phase.</p>
<ul>
<li><strong>Attributes</strong>:
<ul>
<li><code dir="auto">model</code> (string)</li>
<li><code dir="auto">phase</code> (‚Äúrequest_preparation‚Äù, ‚Äúnetwork_latency‚Äù, ‚Äúresponse_processing‚Äù,
‚Äútoken_processing‚Äù)</li>
</ul>
</li>
</ul>
</li>
<li>
<p><code dir="auto">gemini_cli.token.efficiency</code> (Histogram, ratio): Token efficiency metrics.</p>
<ul>
<li><strong>Attributes</strong>:
<ul>
<li><code dir="auto">model</code> (string)</li>
<li><code dir="auto">metric</code> (string)</li>
<li><code dir="auto">context</code> (string, optional)</li>
</ul>
</li>
</ul>
</li>
<li>
<p><code dir="auto">gemini_cli.performance.score</code> (Histogram, score): Composite performance
score.</p>
<ul>
<li><strong>Attributes</strong>:
<ul>
<li><code dir="auto">category</code> (string)</li>
<li><code dir="auto">baseline</code> (number, optional)</li>
</ul>
</li>
</ul>
</li>
<li>
<p><code dir="auto">gemini_cli.performance.regression</code> (Counter, Int): Regression detection
events.</p>
<ul>
<li><strong>Attributes</strong>:
<ul>
<li><code dir="auto">metric</code> (string)</li>
<li><code dir="auto">severity</code> (‚Äúlow‚Äù, ‚Äúmedium‚Äù, ‚Äúhigh‚Äù)</li>
<li><code dir="auto">current_value</code> (number)</li>
<li><code dir="auto">baseline_value</code> (number)</li>
</ul>
</li>
</ul>
</li>
<li>
<p><code dir="auto">gemini_cli.performance.regression.percentage_change</code> (Histogram, percent):
Percent change from baseline when regression detected.</p>
<ul>
<li><strong>Attributes</strong>:
<ul>
<li><code dir="auto">metric</code> (string)</li>
<li><code dir="auto">severity</code> (‚Äúlow‚Äù, ‚Äúmedium‚Äù, ‚Äúhigh‚Äù)</li>
<li><code dir="auto">current_value</code> (number)</li>
<li><code dir="auto">baseline_value</code> (number)</li>
</ul>
</li>
</ul>
</li>
<li>
<p><code dir="auto">gemini_cli.performance.baseline.comparison</code> (Histogram, percent): Comparison
to baseline.</p>
<ul>
<li><strong>Attributes</strong>:
<ul>
<li><code dir="auto">metric</code> (string)</li>
<li><code dir="auto">category</code> (string)</li>
<li><code dir="auto">current_value</code> (number)</li>
<li><code dir="auto">baseline_value</code> (number)</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="sl-heading-wrapper level-h4"><h4 id="genai-semantic-convention">GenAI semantic convention</h4><a class="sl-anchor-link" href="#genai-semantic-convention"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled ‚ÄúGenAI semantic convention‚Äù</span></a></div>
<p>The following metrics comply with <a href="https://github.com/open-telemetry/semantic-conventions/blob/main/docs/gen-ai/gen-ai-metrics.md">OpenTelemetry GenAI semantic conventions</a> for
standardized observability across GenAI applications:</p>
<ul>
<li>
<p><code dir="auto">gen_ai.client.token.usage</code> (Histogram, token): Number of input and output
tokens used per operation.</p>
<ul>
<li><strong>Attributes</strong>:
<ul>
<li><code dir="auto">gen_ai.operation.name</code> (string): The operation type (e.g.,
‚Äúgenerate_content‚Äù, ‚Äúchat‚Äù)</li>
<li><code dir="auto">gen_ai.provider.name</code> (string): The GenAI provider (‚Äúgcp.gen_ai‚Äù or
‚Äúgcp.vertex_ai‚Äù)</li>
<li><code dir="auto">gen_ai.token.type</code> (string): The token type (‚Äúinput‚Äù or ‚Äúoutput‚Äù)</li>
<li><code dir="auto">gen_ai.request.model</code> (string, optional): The model name used for the
request</li>
<li><code dir="auto">gen_ai.response.model</code> (string, optional): The model name that generated
the response</li>
<li><code dir="auto">server.address</code> (string, optional): GenAI server address</li>
<li><code dir="auto">server.port</code> (int, optional): GenAI server port</li>
</ul>
</li>
</ul>
</li>
<li>
<p><code dir="auto">gen_ai.client.operation.duration</code> (Histogram, s): GenAI operation duration in
seconds.</p>
<ul>
<li><strong>Attributes</strong>:
<ul>
<li><code dir="auto">gen_ai.operation.name</code> (string): The operation type (e.g.,
‚Äúgenerate_content‚Äù, ‚Äúchat‚Äù)</li>
<li><code dir="auto">gen_ai.provider.name</code> (string): The GenAI provider (‚Äúgcp.gen_ai‚Äù or
‚Äúgcp.vertex_ai‚Äù)</li>
<li><code dir="auto">gen_ai.request.model</code> (string, optional): The model name used for the
request</li>
<li><code dir="auto">gen_ai.response.model</code> (string, optional): The model name that generated
the response</li>
<li><code dir="auto">server.address</code> (string, optional): GenAI server address</li>
<li><code dir="auto">server.port</code> (int, optional): GenAI server port</li>
<li><code dir="auto">error.type</code> (string, optional): Error type if the operation failed</li>
</ul>
</li>
</ul>
</li>
</ul> </div>  </div> </div>   </main> </div> </div>   </div> <div id="cookie-notice-wrapper" class="hidden astro-uz2wdcl7"> <div class="cookie-notice-container fixed bottom-0 left-0 right-0 flex justify-center z-50 astro-uz2wdcl7"> <div class="cookie-notice text-sm dark:bg-black/50 bg-white/50 backdrop-blur-sm m-2 p-3 rounded-lg flex max-sm:flex-col items-center border border-black/20 astro-uz2wdcl7"> <div class="mr-2 astro-uz2wdcl7">
This website uses <a href="https://policies.google.com/technologies/cookies" class="underline text-black/70 dark:text-white/70 astro-uz2wdcl7" target="_blank">cookies</a> from Google to deliver and enhance the quality of its services and to analyze
        traffic.
</div> <button id="cookie-ack-button" class="font-bold text-nowrap px-2 py-1 border rounded dark:bg-black/80 dark:text-white/70 dark:border-white/30 border-black/20 astro-uz2wdcl7">
I understand.
</button> </div> </div> </div> <script type="module">const e=document.getElementById("cookie-notice-wrapper"),t="__cookieAck";e&&localStorage.getItem(t)!=="true"&&e.classList.remove("hidden");const o=document.getElementById("cookie-ack-button");o?.addEventListener("click",()=>{localStorage.setItem(t,"true"),e&&(e.style.display="none")});</script>  <!-- Footer at bottom of .page flex container --> <footer class="site-footer astro-yriad4ts theme-aware astro-sz7xmlte"> <div class="footer-content astro-sz7xmlte"> <div class="logos astro-sz7xmlte"> <img class="logo-light astro-sz7xmlte" src="/assets/Google.svg" alt="Google logo" width="64.216" height="21"> <img class="logo-dark astro-sz7xmlte" src="/assets/Google-dark.svg" alt="Google logo" width="64.216" height="21"> <img class="logo-light fordev-logo astro-sz7xmlte" src="/assets/fordevelopers.svg" alt="For Developers logo" width="122.678" height="17.583"> <img class="logo-dark fordev-logo astro-sz7xmlte" src="/assets/fordevelopers-dark.svg" alt="For Developers logo" width="122.678" height="17.583"> </div> <div class="footer-links astro-sz7xmlte"> <a href="/terms" class="tos-link astro-sz7xmlte" target="_blank" rel="noopener noreferrer">Terms</a> <span class="divider astro-sz7xmlte">|</span> <a href="https://policies.google.com/privacy" class="tos-link astro-sz7xmlte" target="_blank" rel="noopener noreferrer">Privacy</a> </div> </div> </footer>  </div>  </body></html>